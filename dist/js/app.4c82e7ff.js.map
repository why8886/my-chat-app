{"version":3,"file":"js/app.4c82e7ff.js","mappings":"snFAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,YAAY,EACjH,EACIG,EAAkB,GCFlBN,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,kBAAkB,CAACN,EAAIO,GAAG,GAAGL,EAAG,MAAM,CAACI,YAAY,WAAW,CAACJ,EAAG,MAAM,CAACI,YAAY,UAAUF,MAAM,CAAC,IAAM,KAAK,IAAMI,EAAQ,SAA4BN,EAAG,KAAK,CAACF,EAAIS,GAAG,QAAQT,EAAIU,GAAGV,EAAIW,aAAa,OAAOT,EAAG,IAAI,CAACF,EAAIS,GAAG,cAAcP,EAAG,MAAM,CAACI,YAAY,uBAAuB,CAACN,EAAIS,GAAG,YAAYP,EAAG,SAAS,CAACI,YAAY,qBAAqBM,GAAG,CAAC,MAAQZ,EAAIa,cAAc,CAACX,EAAG,MAAM,CAACI,YAAY,OAAOF,MAAM,CAAC,IAAM,KAAK,IAAMI,EAAQ,SAA8BR,EAAIS,GAAG,UAAUP,EAAG,KAAK,CAACI,YAAY,kBAAkBN,EAAIc,GAAId,EAAIe,aAAa,SAASC,EAAKC,GAAO,OAAOf,EAAG,KAAK,CAACgB,IAAID,EAAML,GAAG,CAAC,MAAQ,SAASO,GAAQnB,EAAIoB,UAAYJ,EAAKK,KAAKrB,EAAIsB,aAAa,IAAI,CAACtB,EAAIS,GAAGT,EAAIU,GAAGM,EAAKK,QAAQ,IAAG,OAAOnB,EAAG,MAAM,CAACqB,IAAI,oBAAoBjB,YAAY,YAAYN,EAAIc,GAAId,EAAIwB,UAAU,SAASC,EAAIR,GAAO,OAAOf,EAAG,MAAM,CAACgB,IAAID,EAAMS,MAAM,CAAC,UAAwB,SAAbD,EAAIE,KAAkB,OAAS,aAAa,CAAE3B,EAAI4B,SAAWX,GAASjB,EAAIwB,SAASK,OAAS,EAAG3B,EAAG,MAAM,CAACI,YAAY,mBAAmB,CAACJ,EAAG,MAAM,CAACI,YAAY,gBAAgBJ,EAAG,MAAM,CAACI,YAAY,gBAAgBJ,EAAG,MAAM,CAACI,YAAY,kBAAkBN,EAAI8B,KAAK5B,EAAG,MAAM,CAACI,YAAY,SAASyB,SAAS,CAAC,UAAY/B,EAAIU,GAAGV,EAAIgC,eAAeP,EAAIQ,aAAa/B,EAAG,OAAO,CAACI,YAAY,QAAQ,CAACN,EAAIS,GAAGT,EAAIU,GAAGe,EAAIS,UAAU,IAAG,GAAGhC,EAAG,MAAM,CAACI,YAAY,cAAc,CAACJ,EAAG,QAAQ,CAACiC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOtC,EAAIoB,UAAWmB,WAAW,cAAcnC,MAAM,CAAC,YAAc,WAAW2B,SAAS,CAAC,MAAS/B,EAAIoB,WAAYR,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAIA,EAAOqB,KAAKC,QAAQ,QAAQzC,EAAI0C,GAAGvB,EAAOwB,QAAQ,QAAQ,GAAGxB,EAAOD,IAAI,SAAgB,KAAYlB,EAAIsB,YAAYsB,MAAM,KAAMC,UAAU,EAAE,MAAQ,SAAS1B,GAAWA,EAAO2B,OAAOC,YAAiB/C,EAAIoB,UAAUD,EAAO2B,OAAOR,MAAK,KAAKpC,EAAG,SAAS,CAACI,YAAY,gBAAgBM,GAAG,CAAC,MAAQ,SAASO,GAAiC,OAAzBA,EAAO6B,kBAAyBhD,EAAIiD,UAAUL,MAAM,KAAMC,UAAU,IAAI,CAAC3C,EAAG,MAAM,CAACI,YAAY,cAAcF,MAAM,CAAC,IAAMI,EAAQ,UAA6BR,EAAIkD,QAAShD,EAAG,MAAM,CAACqB,IAAI,MAAMjB,YAAY,gBAAgB,CAACJ,EAAG,QAAQ,CAACqB,IAAI,YAAYnB,MAAM,CAAC,KAAO,QAAQQ,GAAG,CAAC,OAASZ,EAAImD,oBAAoBjD,EAAG,cAAc,CAACE,MAAM,CAAC,YAAc,gBAAgB,OAAS,iBAAiBQ,GAAG,CAAC,QAAUZ,EAAIoD,oBAAoB,MAAQpD,EAAIqD,mBAAmBC,YAAYtD,EAAIuD,GAAG,CAAC,CAACrC,IAAI,UAAUsC,GAAG,WAAW,MAAO,CAACtD,EAAG,MAAM,CAACI,YAAY,iBAAiB,CAACJ,EAAG,IAAI,CAACI,YAAY,gBAAgBJ,EAAG,IAAI,CAACF,EAAIS,GAAG,kBAAkBP,EAAG,QAAQ,CAACF,EAAIS,GAAG,gCAAgC,EAAEgD,OAAM,IAAO,MAAK,EAAM,eAAe,GAAGzD,EAAI8B,KAAK5B,EAAG,SAAS,CAACU,GAAG,CAAC,MAAQZ,EAAIsB,cAAc,CAACpB,EAAG,MAAM,CAACI,YAAY,YAAYF,MAAM,CAAC,IAAMI,EAAQ,cAC1rF,EACIH,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,UAAU,CAACJ,EAAG,MAAM,CAACI,YAAY,OAAOF,MAAM,CAAC,IAAM,OAAO,IAAMI,EAAQ,UACvK,G,6BCDA,MAAMkD,EAAWC,0BAEjB,OACE,gBAAMC,CAAWC,GACf,MAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,OAAQH,GACjBI,IAAAA,KAAW,GAAGP,iBAAyBI,EAAU,CACtDI,QAAS,CACP,cAAiB,sCACjB,eAAgB,wBAGtB,EAEA,gBAAOC,EAAW,MAAEC,EAAK,OAAEC,EAAS,CAAC,EAAC,OAAEC,EAAM,eAAEC,IAC9C,MAAMC,QAAiBC,MAAM,GAAGf,kBAA0B,CACxDgB,OAAQ,OACRR,QAAS,CACP,eAAgB,mBAChB,cAAiB,uCAEnBS,KAAMC,KAAKC,UAAU,CACnBT,QACAC,SACAS,cAAe,YACfC,KAAM,OACNC,gBAAiBT,EACjBU,MAAOX,EAAS,CAAC,CACfY,gBAAiB,aACjBC,eAAgBb,IACb,OAIHc,EAASZ,EAASG,KAAKU,YACvBC,EAAU,IAAIC,YACpB,IAAIC,EAAS,GAEb,MAAO,EAAM,CACX,MAAM,KAAEC,EAAI,MAAEnD,SAAgB8C,EAAOM,OACrC,GAAID,EAAM,MAEVD,GAAUF,EAAQK,OAAOrD,EAAO,CAAEsD,QAAQ,IAC1C,MAAMC,EAAQL,EAAOM,MAAM,MAC3BN,EAASK,EAAME,MAEf,IAAK,MAAMC,KAAQH,EACbG,EAAKC,WAAW,iBACZrB,KAAKsB,MAAMF,EAAKG,UAAU,IAGtC,CACF,G,oBCiBF,GACAC,IAAAA,GACA,OACAxE,SAAA,EACAjB,YAAA,SACAI,YAAA,GACAmC,SAAA,EACA1B,SAAA,GACAJ,UAAA,GACAiF,YAAA,KACA9B,eAAA,KACA+B,GAAA,IAAAC,EAAAA,EACAC,eAAA,KAEA,EACAC,aAAAA,GACAC,SAAAC,iBAAA,aAAAC,mBACA,EACAC,OAAAA,GACA,KAAAhG,cACA,KAAAiG,iBACAJ,SAAAC,iBAAA,aAAAC,mBACA,EACAG,QAAA,CACA9D,SAAAA,GACA,KAAAC,SAAA,KAAAA,OACA,EACArC,WAAAA,GACA,KAAAE,YAAA,CACA,CAAAM,KAAA,0BACA,CAAAA,KAAA,wBACA,CAAAA,KAAA,wBACA,CAAAA,KAAA,uBACA,CAAAA,KAAA,wBACA,CAAAA,KAAA,yBACA,CAAAA,KAAA,6BACA,CAAAA,KAAA,wBACA,CAAAA,KAAA,yBACA2F,MAAA,OAAAC,KAAAC,WAAAC,MAAA,IACA,EACAL,cAAAA,GACA,KAAAM,WAAA,KACA,MAAAC,EAAA,KAAAC,MAAAC,kBACAF,EAAAG,UAAAH,EAAAI,YAAA,GAEA,EACAb,kBAAAA,CAAAc,GACA,KAAAJ,MAAAK,MAAA,KAAAL,MAAAK,IAAAC,SAAAF,EAAA5E,UACA,KAAAI,SAAA,EAEA,EACA2E,OAAAA,CAAAhE,GACA,OAAAA,GAAArB,MAAAyD,WAAA,SACA,EACAjE,cAAAA,CAAAC,GACA,OAAA6F,EAAAA,EAAAC,SAAA,KAAAzB,GAAAvG,OAAAkC,GAAA,IACA,EACAkB,gBAAAA,CAAA6E,GACA,KAAA3B,YAAA2B,EAAAlF,OAAAmC,MAAA,EACA,EACA,iBAAA3D,GACA,SAAAF,WAAA,UAAAA,UAAA6G,OACA,OAAAC,MAAA,UAEA,MAAAC,EAAA,CACAxG,KAAA,OACAM,QAAA,KAAAb,UACA6D,MAAA,KAAAoB,YAAA,EACAjE,KAAA,KAAAiE,YAAAjE,KACAI,KAAA,KAAA6D,YAAA7D,KACA4F,IAAAC,IAAAC,gBAAA,KAAAjC,eACA,IAEA,KAAA7E,SAAA+G,KAAAJ,GAEA,MAAAK,EAAA,CAAA7G,KAAA,YAAAM,QAAA,IACA,KAAAT,SAAA+G,KAAAC,GACA,KAAA5G,SAAA,EAEA,IACA,IAAA0C,EAAA,KACA,QAAA+B,YAAA,CACA,MAAAoC,QAAAC,EAAA9E,WAAA,KAAAyC,aACA/B,EAAAmE,EAAArC,KAAAuC,EACA,CAEA,gBAAAC,KAAAF,EAAAvE,WAAA,CACAC,MAAA,KAAAhD,UACAkD,SACAC,eAAA,KAAAA,iBAEA,YAAAqE,EAAAlB,OACAc,EAAAvG,SAAA2G,EAAAC,OACA,KAAA/B,kBAEA,gBAAA8B,EAAAlB,QACA,KAAAnD,eAAAqE,EAAA5D,gBAGA,OAAA8D,GACAN,EAAAvG,QAAA,OAAA6G,EAAAC,SACA,SACA,KAAAnH,SAAA,CACA,CAEA,KAAAR,UAAA,GACA,KAAAiF,YAAA,IAGA,EACA2C,YAAAA,CAAAC,EAAAC,GACAC,cAAA,KAAA3C,gBACA,IAAAvE,EAAA,GACA,KAAAuE,eAAA4C,aAAA,KACAnH,EAAAJ,OAAAqH,EAAArH,QACAI,GAAAiH,EAAAjH,EAAAJ,QACAoH,EAAAhH,QAAAA,EACA,KAAAoH,gBAEAF,cAAA,KAAA3C,eACA,GACA,GACA,GAEA8C,aAAAA,GACAH,cAAA,KAAA3C,eACA,GCrMsP,I,UCOlP+C,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,EAAiB,QCVhC,GACAnH,KAAA,MACAoH,WAAA,CACAC,QAAAA,ICXyO,ICOrO,GAAY,OACd,EACA1J,EACAM,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,Q,4BCdhC,MAAMqJ,EAAelJ,EAAAA,MACfmJ,EAAUD,EAAaE,OAAOC,QAAO,CAACF,EAASG,KAEnD,MAAMC,EAAaD,EAAWE,QAAQ,kBAAmB,MACnD1H,EAAQoH,EAAaI,GAE3B,OADAH,EAAQI,GAAczH,EAAM2H,QACrBN,CAAO,GACb,CAAC,GAEJO,EAAAA,GAAIC,IAAIC,EAAAA,IAER,UAAmBA,EAAAA,GAAAA,MAAW,CAC5BT,Y,QChBE5J,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,oBAAoB,CAACJ,EAAG,QAAQ,CAACqB,IAAI,YAAYjB,YAAY,eAAeF,MAAM,CAAC,KAAO,OAAO,OAASJ,EAAIqK,YAAY,SAAW,IAAIzJ,GAAG,CAAC,OAASZ,EAAImD,oBAAoBjD,EAAG,MAAM,CAACI,YAAY,cAAcoB,MAAM,CAAE,SAAY1B,EAAIsK,YAAa1J,GAAG,CAAC,MAAQZ,EAAIuK,iBAAiB,SAAW,SAASpJ,GAAgC,OAAxBA,EAAOqJ,iBAAwBxK,EAAIyK,eAAe7H,MAAM,KAAMC,UAAU,EAAE,UAAY7C,EAAI0K,gBAAgB,KAAO,SAASvJ,GAAgC,OAAxBA,EAAOqJ,iBAAwBxK,EAAI2K,WAAW/H,MAAM,KAAMC,UAAU,IAAI,CAAC7C,EAAI4K,GAAG,WAAU,WAAW,MAAO,CAAC5K,EAAIO,GAAG,GAAG,KAAI,GAAIP,EAAIiF,MAAMpD,OAAQ3B,EAAG,MAAM,CAACI,YAAY,aAAaN,EAAIc,GAAId,EAAIiF,OAAO,SAASpB,EAAK5C,GAAO,OAAOf,EAAG,MAAM,CAACgB,IAAID,EAAMX,YAAY,aAAa,CAACJ,EAAG,MAAM,CAACI,YAAY,aAAa,CAACJ,EAAG,OAAO,CAACI,YAAY,aAAa,CAACN,EAAIS,GAAGT,EAAIU,GAAGmD,EAAKzB,SAASlC,EAAG,OAAO,CAACI,YAAY,aAAa,CAACN,EAAIS,GAAGT,EAAIU,GAAGV,EAAI6K,WAAWhH,EAAKiH,YAAY5K,EAAG,MAAM,CAACI,YAAY,sBAAsB,CAACJ,EAAG,MAAM,CAACI,YAAY,eAAeyK,MAAO,CAAEC,MAAOnH,EAAKoH,SAAW,SAAW/K,EAAG,SAAS,CAACI,YAAY,aAAaM,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOnB,EAAIkL,WAAWjK,EAAM,IAAI,CAACjB,EAAIS,GAAG,QAAQ,IAAG,GAAGT,EAAI8B,KAAK5B,EAAG,SAAS,CAACI,YAAY,aAAaF,MAAM,CAAC,UAAYJ,EAAIiF,MAAMpD,QAAU7B,EAAImL,aAAavK,GAAG,CAAC,MAAQZ,EAAIoL,cAAc,CAACpL,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAImL,YAAc,SAAW,QAAQ,QAC34C,EACI9K,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,mBAAmB,CAACJ,EAAG,IAAI,CAACI,YAAY,gBAAgBJ,EAAG,IAAI,CAACF,EAAIS,GAAG,iBACpK,GCmDA,G,gBAAA,CACA4K,MAAA,CACAhB,YAAA,CACA7H,KAAA8I,OACArB,QAAA,mCAEAsB,QAAA,CACA/I,KAAAgJ,OACAvB,QAAA,UAEAwB,SAAA,CACAjJ,KAAAkJ,QACAzB,SAAA,GAEA0B,OAAA,CACAnJ,KAAA8I,OACAM,UAAA,IAGAxF,IAAAA,GACA,OACAnB,MAAA,GACAkG,aAAA,EACAb,YAAA,EAEA,EACAvD,QAAA,CACAwD,gBAAAA,GACA,KAAAjD,MAAAuE,UAAAC,OACA,EACA3I,gBAAAA,CAAA6E,GACA,KAAA+D,SAAA,IAAA/D,EAAAlF,OAAAmC,QACA+C,EAAAlF,OAAAR,MAAA,EACA,EACAmI,cAAAA,GACA,KAAAH,YAAA,CACA,EACAI,eAAAA,GACA,KAAAJ,YAAA,CACA,EACAK,UAAAA,CAAA3C,GACA,KAAAsC,YAAA,EACA,KAAAyB,SAAA,IAAA/D,EAAAgE,aAAA/G,OACA,EACA8G,QAAAA,CAAAE,GACA,MAAAC,EAAAD,EAAAE,QAAAtI,KACAA,EAAAiH,KAAA,KAAAS,WACA,KAAAa,MAAA,SACA5J,KAAA,OACAqB,OACAkF,QAAA,cAAA8B,WAAA,KAAAU,gBAEA,KAKA,KAAAtG,MAAA,IACA,KAAAA,SACAiH,EAAAG,KAAAxI,IAAA,CACAyI,IAAAzI,EACAzB,KAAAyB,EAAAzB,KACA0I,KAAAjH,EAAAiH,KACAG,SAAA,MAGA,EACA,iBAAAG,GACA,QAAAD,YAAA,OAEA,KAAAA,aAAA,EACA,MAAAoB,EAAA,KAAAtH,MAAAoH,KAAA,CAAAxI,EAAA5C,KACA,MAAA6C,EAAA,IAAAC,SAGA,OAFAD,EAAAE,OAAA,OAAAH,EAAAyI,KAEA,IAAAE,SAAA,CAAAC,EAAAC,KACA,MAAAC,EAAA,IAAAC,eACAD,EAAAE,OAAAC,WAAA9E,IACA,GAAAA,EAAA+E,iBAAA,CACA,MAAA9B,EAAAhE,KAAA+F,MAAAhF,EAAAiF,OAAAjF,EAAAkF,MAAA,KACA,KAAAC,KAAA,KAAAlI,MAAAhE,GAAA,WAAAgK,EACA,GAGA0B,EAAAS,OAAA,KACAT,EAAAU,QAAA,KAAAV,EAAAU,OAAA,IACAZ,EAAAE,EAAAnI,UAEAkI,EAAAC,EAAAW,WACA,EAGAX,EAAAY,QAAA,IAAAb,EAAA,QACAC,EAAAa,KAAA,YAAA7B,QAAA,GACAgB,EAAAc,KAAA3J,EAAA,GACA,IAGA,UACA0I,QAAAkB,IAAAnB,GACA,KAAAH,MAAA,eAAAnH,OACA,KAAAA,MAAA,EACA,OAAA6D,GACA,KAAAsD,MAAA,SAAA5J,KAAA,SAAAsG,SACA,SACA,KAAAqC,aAAA,CACA,CACA,EACAD,UAAAA,CAAAjK,GACA,KAAAgE,MAAA0I,OAAA1M,EAAA,EACA,EACA4J,UAAAA,CAAA+C,GACA,OAAAA,EAAA,gBACA,MAAAC,EAAA,KACAC,EAAA,yBACAC,EAAA9G,KAAA+G,MAAA/G,KAAAgH,IAAAL,GAAA3G,KAAAgH,IAAAJ,IACA,OAAAK,YAAAN,EAAA3G,KAAAkH,IAAAN,EAAAE,IAAAK,QAAA,QAAAN,EAAAC,EACA,KC3KyP,ICQrP,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCVhC7D,EAAAA,GAAImE,OAAOC,eAAgB,EAC3BpE,EAAAA,GAAIqE,UAAUC,MAAQvK,IACtBiG,EAAAA,GAAIqE,UAAUE,IAAM,CAClB1O,OAASsB,GAASyG,EAAAA,EAAUC,UAAS2G,EAAAA,EAAAA,IAAOrN,KAE9C6I,EAAAA,GAAIX,UAAU,aAAcoF,GAE5B,IAAIzE,EAAAA,GAAI,CACN0E,MAAK,EACL7O,OAAQ8O,GAAKA,EAAEC,KACdC,OAAO,O,uBCnBV,IAAI1C,EAAM,CACT,YAAa,MAId,SAAS2C,EAAeC,GACvB,IAAItG,EAAKuG,EAAsBD,GAC/B,OAAOE,EAAoBxG,EAC5B,CACA,SAASuG,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAE/C,EAAK4C,GAAM,CACpC,IAAIjH,EAAI,IAAIqH,MAAM,uBAAyBJ,EAAM,KAEjD,MADAjH,EAAEsH,KAAO,mBACHtH,CACP,CACA,OAAOqE,EAAI4C,EACZ,CACAD,EAAepF,KAAO,WACrB,OAAO2F,OAAO3F,KAAKyC,EACpB,EACA2C,EAAevC,QAAUyC,EACzBM,EAAOC,QAAUT,EACjBA,EAAerG,GAAK,I,+oICtBpB,cACI+G,MAAO,CACHlO,SAAU,GACV+C,eAAgB0C,KAAKC,UAEzByI,UAAW,CACPC,WAAAA,CAAYF,EAAOG,GACjBH,EAAMlO,SAAS+G,KAAKsH,EACtB,EACAC,mBAAAA,CAAoBJ,EAAO/G,GACzB+G,EAAMnL,eAAiBoE,CACzB,GAEJoH,QAAS,CACL,iBAAMzO,EAAY,OAAE0O,EAAM,MAAEN,GAASzN,GACnC,MAAMuC,QAAiBvE,KAAKD,IAAIiQ,MAAM3O,YAAY,CAChD+C,OAAQ,CAAC,EACTD,MAAOnC,EACP+C,gBAAiB0K,EAAMnL,iBAGzB,OADAyL,EAAO,cAAe,CAAErO,KAAM,OAAQM,YAC/BuC,EAAS4B,IAClB,G,GCrBJ8J,EAA2B,CAAC,EAGhC,SAASf,EAAoBgB,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaX,QAGrB,IAAID,EAASU,EAAyBC,GAAY,CAGjDV,QAAS,CAAC,GAOX,OAHAa,EAAoBH,GAAUI,KAAKf,EAAOC,QAASD,EAAQA,EAAOC,QAASN,GAGpEK,EAAOC,OACf,CAGAN,EAAoBqB,EAAIF,E,WCzBxB,IAAIG,EAAW,GACftB,EAAoBuB,EAAI,SAASC,EAAQC,EAAUpN,EAAIqN,GACtD,IAAGD,EAAH,CAMA,IAAIE,EAAeC,IACnB,IAAShD,EAAI,EAAGA,EAAI0C,EAAS5O,OAAQkM,IAAK,CACrC6C,EAAWH,EAAS1C,GAAG,GACvBvK,EAAKiN,EAAS1C,GAAG,GACjB8C,EAAWJ,EAAS1C,GAAG,GAE3B,IAJA,IAGIiD,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAAS/O,OAAQoP,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAatB,OAAO3F,KAAKuF,EAAoBuB,GAAGQ,OAAM,SAAShQ,GAAO,OAAOiO,EAAoBuB,EAAExP,GAAK0P,EAASK,GAAK,IAChKL,EAASjD,OAAOsD,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbP,EAAS9C,OAAOI,IAAK,GACrB,IAAIoD,EAAI3N,SACE6M,IAANc,IAAiBR,EAASQ,EAC/B,CACD,CACA,OAAOR,CArBP,CAJCE,EAAWA,GAAY,EACvB,IAAI,IAAI9C,EAAI0C,EAAS5O,OAAQkM,EAAI,GAAK0C,EAAS1C,EAAI,GAAG,GAAK8C,EAAU9C,IAAK0C,EAAS1C,GAAK0C,EAAS1C,EAAI,GACrG0C,EAAS1C,GAAK,CAAC6C,EAAUpN,EAAIqN,EAwB/B,C,eC5BA1B,EAAoBiC,EAAI,SAAS5B,GAChC,IAAI6B,EAAS7B,GAAUA,EAAO8B,WAC7B,WAAa,OAAO9B,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAL,EAAoBoC,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,C,eCNAlC,EAAoBoC,EAAI,SAAS9B,EAASgC,GACzC,IAAI,IAAIvQ,KAAOuQ,EACXtC,EAAoBC,EAAEqC,EAAYvQ,KAASiO,EAAoBC,EAAEK,EAASvO,IAC5EqO,OAAOmC,eAAejC,EAASvO,EAAK,CAAEyQ,YAAY,EAAMC,IAAKH,EAAWvQ,IAG3E,C,eCPAiO,EAAoB0C,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO7R,MAAQ,IAAI8R,SAAS,cAAb,EAChB,CAAE,MAAO/J,GACR,GAAsB,kBAAXgK,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB7C,EAAoBC,EAAI,SAAS6C,EAAKC,GAAQ,OAAO3C,OAAOhB,UAAU4D,eAAe5B,KAAK0B,EAAKC,EAAO,C,eCCtG/C,EAAoBgC,EAAI,SAAS1B,GACX,qBAAX2C,QAA0BA,OAAOC,aAC1C9C,OAAOmC,eAAejC,EAAS2C,OAAOC,YAAa,CAAE/P,MAAO,WAE7DiN,OAAOmC,eAAejC,EAAS,aAAc,CAAEnN,OAAO,GACvD,C,eCNA6M,EAAoBmD,EAAI,G,eCKxB,IAAIC,EAAkB,CACrB,IAAK,GAaNpD,EAAoBuB,EAAEO,EAAI,SAASuB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BtM,GAC/D,IAKI+J,EAAUqC,EALV5B,EAAWxK,EAAK,GAChBuM,EAAcvM,EAAK,GACnBwM,EAAUxM,EAAK,GAGI2H,EAAI,EAC3B,GAAG6C,EAASiC,MAAK,SAASlK,GAAM,OAA+B,IAAxB4J,EAAgB5J,EAAW,IAAI,CACrE,IAAIwH,KAAYwC,EACZxD,EAAoBC,EAAEuD,EAAaxC,KACrChB,EAAoBqB,EAAEL,GAAYwC,EAAYxC,IAGhD,GAAGyC,EAAS,IAAIjC,EAASiC,EAAQzD,EAClC,CAEA,IADGuD,GAA4BA,EAA2BtM,GACrD2H,EAAI6C,EAAS/O,OAAQkM,IACzByE,EAAU5B,EAAS7C,GAChBoB,EAAoBC,EAAEmD,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOrD,EAAoBuB,EAAEC,EAC9B,EAEImC,EAAqBC,KAAK,2BAA6BA,KAAK,4BAA8B,GAC9FD,EAAmBE,QAAQP,EAAqBQ,KAAK,KAAM,IAC3DH,EAAmBvK,KAAOkK,EAAqBQ,KAAK,KAAMH,EAAmBvK,KAAK0K,KAAKH,G,IC/CvF,IAAII,EAAsB/D,EAAoBuB,OAAEL,EAAW,CAAC,MAAM,WAAa,OAAOlB,EAAoB,KAAO,IACjH+D,EAAsB/D,EAAoBuB,EAAEwC,E","sources":["webpack://my-chat-app/./src/App.vue","webpack://my-chat-app/./src/components/ChatApp.vue","webpack://my-chat-app/./src/api/difyService.js","webpack://my-chat-app/src/components/ChatApp.vue","webpack://my-chat-app/./src/components/ChatApp.vue?53ee","webpack://my-chat-app/./src/components/ChatApp.vue?9b4d","webpack://my-chat-app/src/App.vue","webpack://my-chat-app/./src/App.vue?c036","webpack://my-chat-app/./src/App.vue?0e40","webpack://my-chat-app/./src/store/index.js","webpack://my-chat-app/./src/components/FileUpload.vue","webpack://my-chat-app/src/components/FileUpload.vue","webpack://my-chat-app/./src/components/FileUpload.vue?175a","webpack://my-chat-app/./src/components/FileUpload.vue?216e","webpack://my-chat-app/./src/main.js","webpack://my-chat-app/./src/store/modules/ sync \\.js$","webpack://my-chat-app/./src/store/modules/chat.js","webpack://my-chat-app/webpack/bootstrap","webpack://my-chat-app/webpack/runtime/chunk loaded","webpack://my-chat-app/webpack/runtime/compat get default export","webpack://my-chat-app/webpack/runtime/define property getters","webpack://my-chat-app/webpack/runtime/global","webpack://my-chat-app/webpack/runtime/hasOwnProperty shorthand","webpack://my-chat-app/webpack/runtime/make namespace object","webpack://my-chat-app/webpack/runtime/publicPath","webpack://my-chat-app/webpack/runtime/jsonp chunk loading","webpack://my-chat-app/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ChatApp')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-container\"},[_vm._m(0),_c('div',{staticClass:\"welcome\"},[_c('img',{staticClass:\"xiaohai\",attrs:{\"alt\":\"小海\",\"src\":require(\"@/assets/xiaohai1.png\")}}),_c('h3',[_vm._v(\"Hi，我是\"+_vm._s(_vm.contactName)+\"!\")]),_c('p',[_vm._v(\"快来和我互动吧～\")]),_c('div',{staticClass:\"questions-container\"},[_vm._v(\" 您可能想问： \"),_c('button',{staticClass:\"change-list-button\",on:{\"click\":_vm.refreshList}},[_c('img',{staticClass:\"icon\",attrs:{\"alt\":\"小海\",\"src\":require(\"@/assets/huanyihuan.png\")}}),_vm._v(\"换一换 \")]),_c('ul',{staticClass:\"questions-list\"},_vm._l((_vm.currentList),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){_vm.inputText = item.text;_vm.sendMessage()}}},[_vm._v(_vm._s(item.text))])}),0)])]),_c('div',{ref:\"messagesContainer\",staticClass:\"messages\"},_vm._l((_vm.messages),function(msg,index){return _c('div',{key:index,class:['message', msg.role === 'user' ? 'sent' : 'received']},[(_vm.loading && index == _vm.messages.length - 1)?_c('div',{staticClass:\"message-loading\"},[_c('div',{staticClass:\"loading-dot\"}),_c('div',{staticClass:\"loading-dot\"}),_c('div',{staticClass:\"loading-dot\"})]):_vm._e(),_c('div',{staticClass:\"bubble\",domProps:{\"innerHTML\":_vm._s(_vm.renderMarkdown(msg.content))}}),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(msg.time))])])}),0),_c('div',{staticClass:\"input-area\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputText),expression:\"inputText\"}],attrs:{\"placeholder\":\"输入消息...\"},domProps:{\"value\":(_vm.inputText)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.sendMessage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.inputText=$event.target.value}}}),_c('button',{staticClass:\"upload-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleBox.apply(null, arguments)}}},[_c('img',{staticClass:\"icon-upload\",attrs:{\"src\":require(\"@/assets/upload.png\")}})]),(_vm.showBox)?_c('div',{ref:\"box\",staticClass:\"floating-box\"},[_c('input',{ref:\"fileInput\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.handleFileChange}}),_c('file-upload',{attrs:{\"acceptTypes\":'application/*',\"action\":\"/files/upload\"},on:{\"success\":_vm.handleUploadSuccess,\"error\":_vm.handleUploadError},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('div',{staticClass:\"custom-prompt\"},[_c('i',{staticClass:\"custom-icon\"}),_c('p',[_vm._v(\"点击选择或拖放文件到此处\")]),_c('small',[_vm._v(\"支持DOC、XLS、PDF、ZIP，最大20MB\")])])]},proxy:true}],null,false,1478747436)})],1):_vm._e(),_c('button',{on:{\"click\":_vm.sendMessage}},[_c('img',{staticClass:\"icon-send\",attrs:{\"src\":require(\"@/assets/send.png\")}})])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('img',{staticClass:\"logo\",attrs:{\"alt\":\"logo\",\"src\":require(\"@/assets/logo.png\")}})])\n}]\n\nexport { render, staticRenderFns }","\nimport axios from 'axios'\nconst API_BASE = process.env.VUE_APP_DIFY_API_URL\n\nexport default {\n  async uploadFile(file) {\n    const formData = new FormData()\n    formData.append('file', file)\n    return axios.post(`${API_BASE}/files/upload`, formData, {\n      headers: {\n        'Authorization': `Bearer ${process.env.VUE_APP_DIFY_API_KEY}`,\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n\n  async* streamChat({ query, inputs = {}, fileId, conversationId }) {\n    const response = await fetch(`${API_BASE}/chat-messages`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${process.env.VUE_APP_DIFY_API_KEY}`\n      },\n      body: JSON.stringify({\n        query,\n        inputs,\n        response_mode: 'streaming',\n        user: 'user',\n        conversation_id: conversationId,\n        files: fileId ? [{ \n          transfer_method: 'local_file',\n          upload_file_id: fileId \n        }] : []\n      })\n    })\n\n    const reader = response.body.getReader()\n    const decoder = new TextDecoder()\n    let buffer = ''\n\n    while (true) {\n      const { done, value } = await reader.read()\n      if (done) break\n      \n      buffer += decoder.decode(value, { stream: true })\n      const lines = buffer.split('\\n')\n      buffer = lines.pop()\n      \n      for (const line of lines) {\n        if (line.startsWith('data:')) {\n          yield JSON.parse(line.substring(5))\n        }\n      }\n    }\n  }\n}\n","\n<template>\n  <div class=\"chat-container\">\n    <div class=\"header\">\n      <img class=\"logo\" alt=\"logo\" src=\"@/assets/logo.png\">\n    </div>\n\n    <div class=\"welcome\">\n      <img class=\"xiaohai\" alt=\"小海\" src=\"@/assets/xiaohai1.png\">\n      <h3>Hi，我是{{ contactName }}!</h3>\n      <p>快来和我互动吧～</p>\n      <div class=\"questions-container\">\n        您可能想问：\n        <button class=\"change-list-button\" @click=\"refreshList\">\n          <img class=\"icon\" alt=\"小海\" src=\"@/assets/huanyihuan.png\">换一换\n        </button>\n        <ul class=\"questions-list\">\n          <li v-for=\"(item, index) in currentList\" :key=\"index\" @click=\"inputText = item.text;sendMessage()\">{{ item.text }}</li>\n        </ul>\n    </div>\n    </div>\n    \n    <div class=\"messages\" ref=\"messagesContainer\">\n      <div v-for=\"(msg, index) in messages\" :key=\"index\" \n           :class=\"['message', msg.role === 'user' ? 'sent' : 'received']\">\n        <!-- <div v-if=\"msg.files\" class=\"file-preview\">\n          <img v-if=\"isImage(msg.files[0])\" :src=\"msg.files[0].url\">\n          <a v-else :href=\"msg.files[0].url\" target=\"_blank\">下载文件</a>\n        </div> -->\n        <div v-if=\"loading && index == messages.length - 1\" class=\"message-loading\">\n          <div class=\"loading-dot\"></div>\n          <div class=\"loading-dot\"></div>\n          <div class=\"loading-dot\"></div>\n        </div>\n        <div class=\"bubble\" v-html=\"renderMarkdown(msg.content)\"></div>\n        <span class=\"time\">{{ msg.time }}</span>\n      </div>\n    </div>\n    \n    <div class=\"input-area\">\n      <input v-model=\"inputText\" @keyup.enter=\"sendMessage\" placeholder=\"输入消息...\">\n      <button class=\"upload-button\" @click.stop=\"toggleBox\"><img class=\"icon-upload\" src=\"@/assets/upload.png\"></button>\n      <div v-if=\"showBox\" class=\"floating-box\" ref=\"box\">\n        <input type=\"file\" @change=\"handleFileChange\" ref=\"fileInput\">\n        <file-upload\n          :acceptTypes=\"'application/*'\"\n          action=\"/files/upload\"\n          @success=\"handleUploadSuccess\"\n          @error=\"handleUploadError\"\n        >\n          <template #default>\n            <div class=\"custom-prompt\">\n              <i class=\"custom-icon\"></i>\n              <p>点击选择或拖放文件到此处</p>\n              <small>支持DOC、XLS、PDF、ZIP，最大20MB</small>\n            </div>\n          </template>\n        </file-upload>\n      </div>\n      <button @click=\"sendMessage\">  \n        <img class=\"icon-send\" src=\"@/assets/send.png\">      \n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DifyService from '../api/difyService'\nimport MarkdownIt from 'markdown-it'\nimport DOMPurify from 'dompurify'\n\nexport default {\n  data() {\n    return {\n      loading:false,\n      contactName:'智能招聘小海',\n      currentList:[],\n      showBox: false,\n      messages: [],\n      inputText: '',\n      currentFile: null,\n      conversationId: null,\n      md: new MarkdownIt(),\n      typingInterval: null\n    }\n  },\n  beforeUnmount(){\n    document.addEventListener('click', this.handleClickOutside)\n  },\n  mounted(){\n    this.refreshList()\n    this.scrollToBottom()\n    document.addEventListener('click', this.handleClickOutside)\n  },\n  methods: {\n    toggleBox(){\n      this.showBox = !this.showBox\n    },\n    refreshList(){\n      this.currentList=[\n        { text:'帮我推荐几个五年工作经验的JAVA后端开发?' },\n        { text:'帮我推荐几个三年工作经验的配置管理人员?' },\n        { text:'帮我推荐几个三年工作经验的需求设计人员?' },\n        { text:'帮我推荐几个有管理经验的技术经理人才?' },\n        { text:'帮我筛选下工作地点为南京的实施岗位人员?' },\n        { text:'帮我推荐几个精通VUE相关技术的前端开发?' },\n        { text:'哪些人才精通kubernetes等容器化相关技术?' },\n        { text:'帮我筛选下工作地点为河南的实施岗位人员?' },\n        { text:'帮我筛选下工作地点为福建的实施岗位人员?' },\n      ].sort(() => 0.5 - Math.random()).slice(0, 5)\n    },\n    scrollToBottom(){\n      this.$nextTick(() => {\n        const container = this.$refs.messagesContainer\n        container.scrollTop = container.scrollHeight\n      })\n    },\n    handleClickOutside(event){\n      if (this.$refs.box && !this.$refs.box.contains(event.target)) {\n        this.showBox = false\n      }\n    },\n    isImage(file) {\n      return file?.type?.startsWith('image/')\n    },\n    renderMarkdown(content) {\n      return DOMPurify.sanitize(this.md.render(content || ''))\n    },\n    handleFileChange(e) {\n      this.currentFile = e.target.files[0]\n    },\n    async sendMessage() {\n      if(!this.inputText || this.inputText.trim() === '') {\n        return alert('输入内容为空')\n      }\n      const userMsg = { \n        role: 'user', \n        content: this.inputText,\n        files: this.currentFile ? [{\n          name: this.currentFile.name,\n          type: this.currentFile.type,\n          url: URL.createObjectURL(this.currentFile)\n        }] : []\n      }\n      this.messages.push(userMsg)\n\n      const botMsg = { role: 'assistant', content: '' }\n      this.messages.push(botMsg)\n      this.loading = true\n\n      try {\n        let fileId = null\n        if (this.currentFile) {\n          const uploadRes = await DifyService.uploadFile(this.currentFile)\n          fileId = uploadRes.data.id\n        }\n        \n        for await (const chunk of DifyService.streamChat({\n          query: this.inputText,\n          fileId,\n          conversationId: this.conversationId\n        })) {\n          if (chunk.event === 'message') {\n            botMsg.content += chunk.answer\n            this.scrollToBottom()\n            //this.typeResponse(botMsg, fullText)\n          } else if (chunk.event === 'message_end') {\n            this.conversationId = chunk.conversation_id\n          }\n        }\n      } catch (error) {\n        botMsg.content = `错误: ${error.message}`\n      } finally {\n        this.loading = false\n      }\n\n      this.inputText = ''\n      this.currentFile = null\n      //this.$refs.fileInput.value = ''\n      \n    },\n    typeResponse(msgObj, fullText) {\n        clearInterval(this.typingInterval)\n        let content = ''\n        this.typingInterval = setInterval(() => {\n            if (content.length < fullText.length) {\n            content += fullText[content.length]\n            msgObj.content = content\n            this.$forceUpdate()\n            } else {\n            clearInterval(this.typingInterval)\n            }\n        }, 30)\n    },\n  },\n  beforeDestroy() {\n    clearInterval(this.typingInterval)\n  }\n}\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatApp.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChatApp.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ChatApp.vue?vue&type=template&id=231f64d2&scoped=true\"\nimport script from \"./ChatApp.vue?vue&type=script&lang=js\"\nexport * from \"./ChatApp.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"231f64d2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <ChatApp />\n  </div>\n</template>\n\n<script>\nimport ChatApp from './components/ChatApp.vue'\nexport default {\n  name: 'App',\n  components: {\n    ChatApp,\n  }\n}\n</script>\n\n<style>\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=143187ac\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Vuex from 'vuex'\n\n// 自动导入modules目录下所有js文件\nconst modulesFiles = require.context('./modules', true, /\\.js$/)\nconst modules = modulesFiles.keys().reduce((modules, modulePath) => {\n  // 提取模块名（去除路径和扩展名）\n  const moduleName = modulePath.replace(/^\\.\\/(.*)\\.\\w+$/, '$1')\n  const value = modulesFiles(modulePath)\n  modules[moduleName] = value.default\n  return modules\n}, {})\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules,\n})","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"upload-container\"},[_c('input',{ref:\"fileInput\",staticClass:\"hidden-input\",attrs:{\"type\":\"file\",\"accept\":_vm.acceptTypes,\"multiple\":\"\"},on:{\"change\":_vm.handleFileChange}}),_c('div',{staticClass:\"upload-area\",class:{ 'dragover': _vm.isDragging },on:{\"click\":_vm.triggerFileInput,\"dragover\":function($event){$event.preventDefault();return _vm.handleDragOver.apply(null, arguments)},\"dragleave\":_vm.handleDragLeave,\"drop\":function($event){$event.preventDefault();return _vm.handleDrop.apply(null, arguments)}}},[_vm._t(\"default\",function(){return [_vm._m(0)]})],2),(_vm.files.length)?_c('div',{staticClass:\"file-list\"},_vm._l((_vm.files),function(file,index){return _c('div',{key:index,staticClass:\"file-item\"},[_c('div',{staticClass:\"file-info\"},[_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name))]),_c('span',{staticClass:\"file-size\"},[_vm._v(_vm._s(_vm.formatSize(file.size)))])]),_c('div',{staticClass:\"progress-container\"},[_c('div',{staticClass:\"progress-bar\",style:({ width: file.progress + '%' })})]),_c('button',{staticClass:\"remove-btn\",on:{\"click\":function($event){return _vm.removeFile(index)}}},[_vm._v(\"×\")])])}),0):_vm._e(),_c('button',{staticClass:\"upload-btn\",attrs:{\"disabled\":!_vm.files.length || _vm.isUploading},on:{\"click\":_vm.uploadFiles}},[_vm._v(\" \"+_vm._s(_vm.isUploading ? `上传中...` : `开始上传`)+\" \")])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"default-content\"},[_c('i',{staticClass:\"upload-icon\"}),_c('p',[_vm._v(\"点击或拖拽文件到此处\")])])\n}]\n\nexport { render, staticRenderFns }","\n<template>\n  <div class=\"upload-container\">\n    <input \n      ref=\"fileInput\"\n      type=\"file\"\n      :accept=\"acceptTypes\"\n      @change=\"handleFileChange\"\n      class=\"hidden-input\"\n      multiple\n    />\n    <div \n      @click=\"triggerFileInput\"\n      class=\"upload-area\"\n      :class=\"{ 'dragover': isDragging }\"\n      @dragover.prevent=\"handleDragOver\"\n      @dragleave=\"handleDragLeave\"\n      @drop.prevent=\"handleDrop\"\n    >\n      <slot>\n        <div class=\"default-content\">\n          <i class=\"upload-icon\"></i>\n          <p>点击或拖拽文件到此处</p>\n        </div>\n      </slot>\n    </div>\n    \n    <div v-if=\"files.length\" class=\"file-list\">\n      <div v-for=\"(file, index) in files\" :key=\"index\" class=\"file-item\">\n        <div class=\"file-info\">\n          <span class=\"file-name\">{{ file.name }}</span>\n          <span class=\"file-size\">{{ formatSize(file.size) }}</span>\n        </div>\n        <div class=\"progress-container\">\n          <div \n            class=\"progress-bar\" \n            :style=\"{ width: file.progress + '%' }\"\n          ></div>\n        </div>\n        <button @click=\"removeFile(index)\" class=\"remove-btn\">×</button>\n      </div>\n    </div>\n\n    <button \n      @click=\"uploadFiles\" \n      :disabled=\"!files.length || isUploading\"\n      class=\"upload-btn\"\n    >\n      {{ isUploading ? `上传中...` : `开始上传` }}\n    </button>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    acceptTypes: {\n      type: String,\n      default: 'image/*,video/*,application/pdf'\n    },\n    maxSize: {\n      type: Number,\n      default: 20 * 1024 * 1024 // 20MB\n    },\n    multiple: {\n      type: Boolean,\n      default: true\n    },\n    action: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      files: [],\n      isUploading: false,\n      isDragging: false\n    }\n  },\n  methods: {\n    triggerFileInput() {\n      this.$refs.fileInput.click()\n    },\n    handleFileChange(e) {\n      this.addFiles([...e.target.files])\n      e.target.value = '' // 允许重复选择相同文件\n    },\n    handleDragOver() {\n      this.isDragging = true\n    },\n    handleDragLeave() {\n      this.isDragging = false\n    },\n    handleDrop(e) {\n      this.isDragging = false\n      this.addFiles([...e.dataTransfer.files])\n    },\n    addFiles(newFiles) {\n      const validFiles = newFiles.filter(file => {\n        if (file.size > this.maxSize) {\n          this.$emit('error', {\n            type: 'size',\n            file,\n            message: `文件大小超过${this.formatSize(this.maxSize)}限制`\n          })\n          return false\n        }\n        return true\n      })\n      \n      this.files = [\n        ...this.files,\n        ...validFiles.map(file => ({\n          raw: file,\n          name: file.name,\n          size: file.size,\n          progress: 0\n        }))\n      ]\n    },\n    async uploadFiles() {\n      if (this.isUploading) return\n      \n      this.isUploading = true\n      const uploadPromises = this.files.map((file, index) => {\n        const formData = new FormData()\n        formData.append('file', file.raw)\n        \n        return new Promise((resolve, reject) => {\n          const xhr = new XMLHttpRequest()\n          xhr.upload.onprogress = (e) => {\n            if (e.lengthComputable) {\n              const progress = Math.round((e.loaded / e.total) * 100)\n              this.$set(this.files[index], 'progress', progress)\n            }\n          }\n          \n          xhr.onload = () => {\n            if (xhr.status >= 200 && xhr.status < 300) {\n              resolve(xhr.response)\n            } else {\n              reject(xhr.statusText)\n            }\n          }\n          \n          xhr.onerror = () => reject('上传失败')\n          xhr.open('POST', this.action, true)\n          xhr.send(formData)\n        })\n      })\n      \n      try {\n        await Promise.all(uploadPromises)\n        this.$emit('success', this.files)\n        this.files = []\n      } catch (error) {\n        this.$emit('error', { type: 'upload', error })\n      } finally {\n        this.isUploading = false\n      }\n    },\n    removeFile(index) {\n      this.files.splice(index, 1)\n    },\n    formatSize(bytes) {\n      if (bytes === 0) return '0 Bytes'\n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n  }\n}\n</script>\n\n<style scoped>\n.upload-container {\n  width: 100%;\n  max-width: 500px;\n  margin: 0 auto;\n  padding: 20px;\n}\n.hidden-input {\n  display: none;\n}\n.upload-area {\n  border: 2px dashed #ccc;\n  border-radius: 8px;\n  padding: 30px;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s;\n}\n.upload-area.dragover {\n  border-color: #409eff;\n  background-color: rgba(64, 158, 255, 0.1);\n}\n.default-content {\n  color: #666;\n}\n.upload-icon {\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin: 0 auto 15px;\n  background: url('data:image/svg+xml;utf8,<svg ...>') no-repeat center;\n}\n.file-list {\n  margin-top: 20px;\n}\n.file-item {\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  border-bottom: 1px solid #eee;\n}\n.file-info {\n  flex: 1;\n  min-width: 0;\n}\n.file-name {\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.file-size {\n  font-size: 12px;\n  color: #999;\n}\n.progress-container {\n  width: 80px;\n  height: 4px;\n  background: #eee;\n  margin: 0 10px;\n  border-radius: 2px;\n}\n.progress-bar {\n  height: 100%;\n  background: #409eff;\n  border-radius: 2px;\n  transition: width 0.3s;\n}\n.remove-btn {\n  border: none;\n  background: none;\n  font-size: 20px;\n  color: #f56c6c;\n  cursor: pointer;\n}\n.upload-btn {\n  display: block;\n  width: 100%;\n  margin-top: 20px;\n  padding: 12px;\n  background: #409eff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.upload-btn:disabled {\n  background: #a0cfff;\n  cursor: not-allowed;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FileUpload.vue?vue&type=template&id=42cb4046&scoped=true\"\nimport script from \"./FileUpload.vue?vue&type=script&lang=js\"\nexport * from \"./FileUpload.vue?vue&type=script&lang=js\"\nimport style0 from \"./FileUpload.vue?vue&type=style&index=0&id=42cb4046&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42cb4046\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\nimport './styles/styles.css'\nimport axios from 'axios'\nimport { marked } from 'marked';\nimport DOMPurify from 'dompurify'\nimport FileUpload from './components/FileUpload.vue'\n\nVue.config.productionTip = false\nVue.prototype.$http = axios\nVue.prototype.$md = {\n  render: (text) => DOMPurify.sanitize(marked(text))\n}\nVue.component('FileUpload', FileUpload)\n\nnew Vue({\n  store,\n  render: h => h(App),\n}).$mount('#app')\n","var map = {\n\t\"./chat.js\": 9289\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 4870;","export default ({\n    state: {\n        messages: [],\n        conversationId: Math.random(),\n    },\n    mutations: {\n        ADD_MESSAGE(state, payload) {\n          state.messages.push(payload);\n        },\n        SET_CONVERSATION_ID(state, id) {\n          state.conversationId = id;\n        }\n    },\n    actions: {\n        async sendMessage({ commit, state }, content) {\n          const response = await this._vm.$dify.sendMessage({\n            inputs: {},\n            query: content,\n            conversation_id: state.conversationId\n          });\n          commit('ADD_MESSAGE', { role: 'user', content });\n          return response.data;\n        }\n    }\n});","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmy_chat_app\"] = self[\"webpackChunkmy_chat_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4601); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","staticClass","_m","require","_v","_s","contactName","on","refreshList","_l","currentList","item","index","key","$event","inputText","text","sendMessage","ref","messages","msg","class","role","loading","length","_e","domProps","renderMarkdown","content","time","directives","name","rawName","value","expression","type","indexOf","_k","keyCode","apply","arguments","target","composing","stopPropagation","toggleBox","showBox","handleFileChange","handleUploadSuccess","handleUploadError","scopedSlots","_u","fn","proxy","API_BASE","process","uploadFile","file","formData","FormData","append","axios","headers","streamChat","query","inputs","fileId","conversationId","response","fetch","method","body","JSON","stringify","response_mode","user","conversation_id","files","transfer_method","upload_file_id","reader","getReader","decoder","TextDecoder","buffer","done","read","decode","stream","lines","split","pop","line","startsWith","parse","substring","data","currentFile","md","MarkdownIt","typingInterval","beforeUnmount","document","addEventListener","handleClickOutside","mounted","scrollToBottom","methods","sort","Math","random","slice","$nextTick","container","$refs","messagesContainer","scrollTop","scrollHeight","event","box","contains","isImage","DOMPurify","sanitize","e","trim","alert","userMsg","url","URL","createObjectURL","push","botMsg","uploadRes","DifyService","id","chunk","answer","error","message","typeResponse","msgObj","fullText","clearInterval","setInterval","$forceUpdate","beforeDestroy","component","components","ChatApp","modulesFiles","modules","keys","reduce","modulePath","moduleName","replace","default","Vue","use","Vuex","acceptTypes","isDragging","triggerFileInput","preventDefault","handleDragOver","handleDragLeave","handleDrop","_t","formatSize","size","style","width","progress","removeFile","isUploading","uploadFiles","props","String","maxSize","Number","multiple","Boolean","action","required","fileInput","click","addFiles","dataTransfer","newFiles","validFiles","filter","$emit","map","raw","uploadPromises","Promise","resolve","reject","xhr","XMLHttpRequest","upload","onprogress","lengthComputable","round","loaded","total","$set","onload","status","statusText","onerror","open","send","all","splice","bytes","k","sizes","i","floor","log","parseFloat","pow","toFixed","config","productionTip","prototype","$http","$md","marked","FileUpload","store","h","App","$mount","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","Object","module","exports","state","mutations","ADD_MESSAGE","payload","SET_CONVERSATION_ID","actions","commit","$dify","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","call","m","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","d","a","definition","defineProperty","enumerable","get","g","globalThis","Function","window","obj","prop","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}